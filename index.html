<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Pop Party – 7 Faixas</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap"
      rel="stylesheet">

<style>
:root{
    --bg:#0a0a0a;               /* fundo preto */
    --accent:#ff4da6;           /* rosa neon */
    --card:#151515;
    --text:#fff;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{
    background:var(--bg);
    color:var(--text);
    font-family:'Montserrat',sans-serif;
    min-height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:2rem 1rem;
}
h1{
    margin-bottom:1rem;
    font-weight:600;
    letter-spacing:2px;
}
.gallery{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
    gap:1.5rem;
    width:100%;
    max-width:960px;
}
.card{
    position:relative;
    background:var(--card);
    border-radius:12px;
    overflow:hidden;
    cursor:pointer;
    transition:transform .3s, box-shadow .3s;
}
.card:hover{
    transform:scale(1.04);
    box-shadow:0 8px 20px rgba(255,77,166,.4);
}
.card img{
    width:100%;
    display:block;
    filter:brightness(0) saturate(100%) invert(10%) sepia(100%) hue-rotate(300deg) brightness(1.2);
    transition:filter .4s;
}
.card.playing img{
    filter:brightness(0) saturate(100%) invert(10%) sepia(100%) hue-rotate(300deg) brightness(1.6);
}
.play-btn{
    position:absolute;
    bottom:.8rem;
    left:50%;
    transform:translateX(-50%);
    background:rgba(0,0,0,.6);
    border:none;
    border-radius:50%;
    width:48px;height:48px;
    font-size:1.4rem;
    color:#fff;
    display:flex;
    align-items:center;
    justify-content:center;
}
.play-btn:hover{
    background:rgba(0,0,0,.9);
}
.title{
    text-align:center;
    padding:.5rem 0;
    font-size:.95rem;
}

/* animação de pulsar quando toca */
@keyframes pulse {
   0%   {box-shadow:0 0 0 0 rgba(255,77,166,.4);}
   70%  {box-shadow:0 0 0 12px rgba(255,77,166,0);}
   100% {box-shadow:0 0 0 0 rgba(255,77,166,0);}
}
.card.playing{
   animation:pulse 2s infinite;
}
</style>
</head>

<body>

<h1>Pop Party – 7 Faixas</h1>

<div class="gallery">
   <!-- ========= CARD #1 ========= -->
   <div class="card" data-audio="musicas/track01.mp3">
       <img src="capas/cover01.jpg" alt="Capa da faixa 1">
       <button class="play-btn" aria-label="Tocar">▶️</button>
       <div class="title">Pop Hit #1</div>
   </div>

   <!-- ========= CARD #2 ========= -->
   <div class="card" data-audio="musicas/track02.mp3">
       <img src="capas/cover02.jpg" alt="Capa da faixa 2">
       <button class="play-btn" aria-label="Tocar">▶️</button>
       <div class="title">Pop Hit #2</div>
   </div>

   <!-- ========= CARD #3 ========= -->
   <div class="card" data-audio="musicas/track03.mp3">
       <img src="capas/cover03.jpg" alt="Capa da faixa 3">
       <button class="play-btn" aria-label="Tocar">▶️</button>
       <div class="title">Pop Hit #3</div>
   </div>

   <!-- ========= CARD #4 ========= -->
   <div class="card" data-audio="musicas/track04.mp3">
       <img src="capas/cover04.jpg" alt="Capa da faixa 4">
       <button class="play-btn" aria-label="Tocar">▶️</button>
       <div class="title">Pop Hit #4</div>
   </div>

   <!-- ========= CARD #5 ========= -->
   <div class="card" data-audio="musicas/track05.mp3">
       <img src="capas/cover05.jpg" alt="Capa da faixa 5">
       <button class="play-btn" aria-label="Tocar">▶️</button>
       <div class="title">Pop Hit #5</div>
   </div>

   <!-- ========= CARD #6 ========= -->
   <div class="card" data-audio="musicas/track06.mp3">
       <img src="capas/cover06.jpg" alt="Capa da faixa 6">
       <button class="play-btn" aria-label="Tocar">▶️</button>
       <div class="title">Pop Hit #6</div>
   </div>

   <!-- ========= CARD #7 ========= -->
   <div class="card" data-audio="musicas/track07.mp3">
       <img src="capas/cover07.jpg" alt="Capa da faixa 7">
       <button class="play-btn" aria-label="Tocar">▶️</button>
       <div class="title">Pop Hit #7</div>
   </div>
</div>

<script>
// ---------- Variáveis ----------
let currentAudio = null;      // áudio que está tocando agora
let currentCard = null;      // card associado

// ---------- Funções ----------
function togglePlay(card) {
   const audioSrc = card.dataset.audio;

   // Se já houver um áudio tocando...
   if (currentAudio && currentAudio.src.endsWith(audioSrc)) {
        // Clicou na mesma faixa → pausa
        currentAudio.pause();
        currentCard.classList.remove('playing');
        currentAudio = null;
        currentCard = null;
        return;
   }

   // Se outra faixa estava tocando → para antes de iniciar nova
   if (currentAudio) {
        currentAudio.pause();
        currentCard.classList.remove('playing');
   }

   // Cria novo objeto Audio e inicia
   const audio = new Audio(audioSrc);
   audio.play();
   card.classList.add('playing');

   // Quando terminar, limpa o estado
   audio.addEventListener('ended', () => {
        card.classList.remove('playing');
        currentAudio = null;
        currentCard = null;
   });

   // Atualiza referências globais
   currentAudio = audio;
   currentCard = card;
}

// ---------- Eventos ----------
document.querySelectorAll('.card').forEach(card => {
   const btn = card.querySelector('.play-btn');

   // Clique no botão ou em qualquer parte do card
   btn.addEventListener('click', e => {
        e.stopPropagation();          // evita duplo disparo
        togglePlay(card);
   });
   
   // Também permite tocar ao clicar na capa
   card.addEventListener('click', () => togglePlay(card));
});
</script>

</body>
</html>
